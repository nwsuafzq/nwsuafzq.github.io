<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>数码管日历表 | 所长的blog</title>
    <meta name="author" content="ZhangQiong">
    
    <meta name="description" content="hello world !!">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="数码管日历表"/>
    <meta property="og:site_name" content="你们还要再学习一个"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="你们还要再学习一个" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="indigo">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">你们还要再学习一个</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            分类
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-reading " href="/reading" >
                            <i class="fa fa-book "></i>
                            
                            读书
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            关于
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            搜索
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav indigo darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="https://raw.githubusercontent.com/nwsuafzq/nwsuafzq.github.io/master/images/headphoto.jpg" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">张琼</p>
                        <p class="desc">Java/Web前端/技术宅(误)</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    首页
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    归档
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    分类
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-reading " href="/reading" >
                    <i class="fa fa-book "></i>
                    
                    读书
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    关于
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    搜索
                </a>
            </li>
        
    </ul>

    <ul class="side-nav indigo darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Hexo相关/">
                    Hexo相关 <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/算法/">
                    算法 <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Java-EE/">
                    Java-EE <span class="right">5 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/git/">
                    git <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Java/">
                    Java <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/EJB/">
                    EJB <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/xmapp/">
                    xmapp <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/tomcat/">
                    tomcat <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/hadoop/">
                    hadoop <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/linux/">
                    linux <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/数据库/">
                    数据库 <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Python/">
                    Python <span class="right">5 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/接口技术/">
                    接口技术 <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/中间件技术/">
                    中间件技术 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/maven/">
                    maven <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/sbt/">
                    sbt <span class="right">1 篇</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">搜索</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper indigo">
        <span class="breadcrumb">当前位置（分类目录）</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/接口技术/">接口技术</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>数码管日历表</h1>
    


            </div>
            <time class="pink-link-context" datetime="2017-01-14T07:19:21.296Z"><a href="/2017/01/14/2017年1月14日 接口技术-数码管日历表/">2017-01-14</a></time>

            <span id="busuanzi_container_page_pv" class="read-times-container">
    <i class="fa fa-eye"></i>
    <span id="busuanzi_value_page_pv"></span>
</span>

            
    <div class="tags-row">
        
            <a href="/tags/接口技术/" class="chip pink lighten-1">接口技术</a>
        
            <a href="/tags/汇编语言/" class="chip pink lighten-1">汇编语言</a>
        
    </div>


            <div class="toc pink-link-context hide-on-med-and-down">
    
</div>


            <div class="entry pink-link-context">
                <p>用到8253 8259 8279，七段数码管。键盘，显示屏等外设<br>;连线说明<br>;E5区 ：CLK(8279)   ————  B2区：2M<br>;E5区 ：CS(8279)、A0     ————  A3区：CS5、A0<br>;E5区 ：A、B、C、D(8279)  ————   G5区：A、B、C、D<br>;B3区 ：CS(8259)、A0     ————  A3区：CS1、A0<br>;B3区：INT、INTA          ———— ES8688：INTR、INTA<br>;B3区：IR0              ————  C5区 ：OUT0<br>;C5区 ：CS（8253）、A0、A1————    A3区：CS2、A0、A1<br>;C5区 ：GATE0           ————  C1区：VCC<br>;C5区 ：CLK0            ————  B2区：62.5K<br>;A1区：CS、RW、RS、CS1/2      A3区：CS4、A0、A1、A2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div><div class="line">815</div><div class="line">816</div><div class="line">817</div><div class="line">818</div><div class="line">819</div><div class="line">820</div><div class="line">821</div><div class="line">822</div><div class="line">823</div><div class="line">824</div><div class="line">825</div><div class="line">826</div><div class="line">827</div><div class="line">828</div><div class="line">829</div><div class="line">830</div><div class="line">831</div><div class="line">832</div><div class="line">833</div><div class="line">834</div><div class="line">835</div><div class="line">836</div><div class="line">837</div><div class="line">838</div><div class="line">839</div><div class="line">840</div><div class="line">841</div><div class="line">842</div><div class="line">843</div><div class="line">844</div><div class="line">845</div><div class="line">846</div><div class="line">847</div><div class="line">848</div><div class="line">849</div><div class="line">850</div><div class="line">851</div><div class="line">852</div><div class="line">853</div><div class="line">854</div><div class="line">855</div><div class="line">856</div><div class="line">857</div><div class="line">858</div><div class="line">859</div><div class="line">860</div><div class="line">861</div><div class="line">862</div><div class="line">863</div><div class="line">864</div><div class="line">865</div><div class="line">866</div><div class="line">867</div><div class="line">868</div><div class="line">869</div><div class="line">870</div><div class="line">871</div><div class="line">872</div><div class="line">873</div><div class="line">874</div><div class="line">875</div><div class="line">876</div><div class="line">877</div><div class="line">878</div><div class="line">879</div><div class="line">880</div><div class="line">881</div><div class="line">882</div><div class="line">883</div><div class="line">884</div><div class="line">885</div><div class="line">886</div><div class="line">887</div><div class="line">888</div><div class="line">889</div><div class="line">890</div><div class="line">891</div><div class="line">892</div><div class="line">893</div><div class="line">894</div><div class="line">895</div><div class="line">896</div><div class="line">897</div><div class="line">898</div><div class="line">899</div><div class="line">900</div><div class="line">901</div><div class="line">902</div><div class="line">903</div><div class="line">904</div><div class="line">905</div><div class="line">906</div><div class="line">907</div><div class="line">908</div><div class="line">909</div><div class="line">910</div><div class="line">911</div><div class="line">912</div><div class="line">913</div><div class="line">914</div><div class="line">915</div><div class="line">916</div><div class="line">917</div><div class="line">918</div><div class="line">919</div><div class="line">920</div><div class="line">921</div><div class="line">922</div><div class="line">923</div><div class="line">924</div><div class="line">925</div><div class="line">926</div><div class="line">927</div><div class="line">928</div><div class="line">929</div><div class="line">930</div><div class="line">931</div><div class="line">932</div><div class="line">933</div><div class="line">934</div><div class="line">935</div><div class="line">936</div><div class="line">937</div><div class="line">938</div><div class="line">939</div><div class="line">940</div><div class="line">941</div><div class="line">942</div><div class="line">943</div><div class="line">944</div><div class="line">945</div><div class="line">946</div><div class="line">947</div><div class="line">948</div><div class="line">949</div><div class="line">950</div><div class="line">951</div><div class="line">952</div><div class="line">953</div><div class="line">954</div><div class="line">955</div><div class="line">956</div><div class="line">957</div><div class="line">958</div><div class="line">959</div><div class="line">960</div><div class="line">961</div><div class="line">962</div><div class="line">963</div><div class="line">964</div><div class="line">965</div><div class="line">966</div><div class="line">967</div><div class="line">968</div><div class="line">969</div><div class="line">970</div><div class="line">971</div><div class="line">972</div><div class="line">973</div><div class="line">974</div><div class="line">975</div><div class="line">976</div><div class="line">977</div><div class="line">978</div><div class="line">979</div><div class="line">980</div><div class="line">981</div><div class="line">982</div><div class="line">983</div><div class="line">984</div><div class="line">985</div><div class="line">986</div><div class="line">987</div><div class="line">988</div><div class="line">989</div><div class="line">990</div><div class="line">991</div><div class="line">992</div><div class="line">993</div><div class="line">994</div><div class="line">995</div><div class="line">996</div><div class="line">997</div><div class="line">998</div><div class="line">999</div><div class="line">1000</div></pre></td><td class="code"><pre><div class="line">    .MODEL  TINY</div><div class="line">EXTRN   Display8:NEAR, GetKeyA:NEAR</div><div class="line">IO8259_0    EQU 0F000H</div><div class="line">IO8259_1    EQU 0F001H</div><div class="line">Con_8253    EQU 0E003H</div><div class="line">T0_8253     EQU 0E000H  </div><div class="line">DATA_8279       EQU     0BF00H          ;8279读写数据口的地址</div><div class="line"></div><div class="line">;==========液晶屏LCD========</div><div class="line">WR_COM_AD_L EQU 0C004H          ;写左半屏指令地址   ;片选CS4</div><div class="line">WR_COM_AD_R EQU 0C000H          ;写右半屏指令地址</div><div class="line">WR_DATA_AD_L    EQU 0C006H      ;写左半屏数据地址   </div><div class="line">WR_DATA_AD_R    EQU 0C002H      ;写右半屏数据地址</div><div class="line">RD_BUSY_AD  EQU 0C001H          ;查忙地址</div><div class="line">RD_DATA_AD  EQU 0C003H          ;读数据地址</div><div class="line"></div><div class="line">X       EQU 0B8H            ;起始显示行基址</div><div class="line">Y       EQU 040H            ;起始显示列基址</div><div class="line">FirstLine   EQU 0C0H</div><div class="line">;====================</div><div class="line"></div><div class="line">    .STACK      200</div><div class="line">    .DATA</div><div class="line">halfsec     DB  0           ;0.5秒计数</div><div class="line">sec         DB  0           ;秒</div><div class="line">min         DB  0           ;分</div><div class="line">hour        DB  0           ;时</div><div class="line">day         DB  0           ;日</div><div class="line">month       DB  0           ;月</div><div class="line">year        DW  0           ;年</div><div class="line">yearLowPos2     DB  0           ;年的低两位</div><div class="line">yearHighPos2    DB  0           ;年的高两位</div><div class="line"></div><div class="line">bufferTime                  DB  8 DUP(0)        ;显示时间缓冲区，8个字节</div><div class="line">bufferTimeSetting       DB  8 DUP(0)        ;显示设置时间缓冲区，8个字节</div><div class="line">bufferDate                  DB  8 DUP(0)        ;显示日期缓冲区，8个字节</div><div class="line">bufferDateSetting       DB  8 DUP(0)        ;显示设置日期缓冲区，8个字节</div><div class="line"></div><div class="line">timeNeedFlashDisp       DB  0           ;时间需要刷新显示</div><div class="line">dateNeedFlashDisp       DB  0           ;日期需要刷新显示</div><div class="line">displayTimeFlag         DB  0               ;显示日期还是显示时间(显示时间为1，显示日期为0)</div><div class="line">TimePos             DB  0               ;时间位标志，设置哪一位时间</div><div class="line">DatePos             DB  0               ;日期位标志，设置哪一位日期</div><div class="line">timeSettingFlash        DB  0           ;时间设置时是否需要刷新</div><div class="line">dateSettingFlash        DB  0           ;日期设置时是否需要刷新</div><div class="line">LeapYear                DB  0           ;闰年标志</div><div class="line">MonthHas30Day   DB  0           ;天数为30天的月份标志</div><div class="line"></div><div class="line">;========液晶屏LCD================</div><div class="line">ZERO    DB  000H,0E0H,010H,008H,008H,010H,0E0H,000H,000H,00FH,010H,020H,020H,010H,00FH,000H</div><div class="line">        DB  000H,010H,010H,0F8H,000H,000H,000H,000H,000H,020H,020H,03FH,020H,020H,000H,000H</div><div class="line">        DB  000H,070H,008H,008H,008H,088H,070H,000H,000H,030H,028H,024H,022H,021H,030H,000H</div><div class="line">        DB  000H,030H,008H,088H,088H,048H,030H,000H,000H,018H,020H,020H,020H,011H,00EH,000H</div><div class="line">        DB  000H,000H,0C0H,020H,010H,0F8H,000H,000H,000H,007H,004H,024H,024H,03FH,024H,000H</div><div class="line">        DB  000H,0F8H,008H,088H,088H,008H,008H,000H,000H,019H,021H,020H,020H,011H,00EH,000H</div><div class="line">        DB  000H,0E0H,010H,088H,088H,018H,000H,000H,000H,00FH,011H,020H,020H,011H,00EH,000H</div><div class="line">        DB  000H,038H,008H,008H,0C8H,038H,008H,000H,000H,000H,000H,03FH,000H,000H,000H,000H</div><div class="line">        DB  000H,070H,088H,008H,008H,088H,070H,000H,000H,01CH,022H,021H,021H,022H,01CH,000H</div><div class="line">        DB  000H,0E0H,010H,008H,008H,010H,0E0H,000H,000H,000H,031H,022H,022H,011H,00FH,000H</div><div class="line">POINT   DB  000H,000H,000H,0C0H,0C0H,000H,000H,000H,000H,000H,000H,030H,030H,000H,000H,000H</div><div class="line">;=============================</div><div class="line"></div><div class="line">    .CODE  </div><div class="line">;========================主程序========================    </div><div class="line"></div><div class="line">START:  MOV     AX,@DATA</div><div class="line">        MOV     DS,AX</div><div class="line">        MOV     ES,AX</div><div class="line">        NOP</div><div class="line">        MOV sec,58          ;时分秒赋初值23:59:58</div><div class="line">        MOV min,59</div><div class="line">        MOV hour,23</div><div class="line">        MOV day,30              ;年月日赋初值2017 03 30</div><div class="line">        MOV month,3</div><div class="line">        MOV yearHighPos2,20</div><div class="line">        MOV yearLowPos2,17</div><div class="line">        MOV timeNeedFlashDisp,1     ;显示初始时间 置为1</div><div class="line">        MOV dateNeedFlashDisp,0</div><div class="line">        MOV displayTimeFlag,1       ;初始显示标志为时间 置为1</div><div class="line">        CALL    Init8253            ;调用8253初始化程序</div><div class="line">        CALL    Init8259            ;调用8259初始化程序</div><div class="line">        CALL    WriIntver           ;写中断向量表</div><div class="line">        </div><div class="line">        CALL    LCDCLEAR            ;清LCD屏</div><div class="line">        CALL    LCD_INIT            ;初始化LCD</div><div class="line">        </div><div class="line">        STI</div><div class="line">        </div><div class="line">Main:       CALL GetKeyA            ;扫描按键</div><div class="line">            JNB Key_Null            ;没有按键,跳转至NoKey</div><div class="line">            CMP AL,0EH              ;按键是否&gt;=E</div><div class="line">            JB  Key_Blow_E          ;按键&lt;E 则跳至Key_Blow_E</div><div class="line"></div><div class="line">Key_is_E_F: CMP AL,0FH              ;判断按键为E还是F</div><div class="line">            JNZ Main                ;按键不为F 则按键为E，取消设置，回到主程序Main</div><div class="line">            CMP displayTimeFlag,1   ;按键为F，判断正在显示时间还是日期</div><div class="line">            JNZ DateSet             ;若displayTimeFlag!=1 说明是正在显示日期 所以跳转至DataSet         </div><div class="line">TimeSet:    CALL SetTime            ;若时间显示标志位displayTimeFlag=1,说明正在显示时间，则调用SetTime设置时间子程序</div><div class="line">TimeDisplay:CALL Display_LED_Time   ;然后调用显示时间</div><div class="line">            MOV timeNeedFlashDisp,0</div><div class="line">            JMP Main</div><div class="line">                </div><div class="line">DateNeedDisp:CMP dateNeedFlashDisp,1</div><div class="line">             JNZ Main       </div><div class="line">             CALL Display_LED_Date</div><div class="line">             MOV dateNeedFlashDisp,0</div><div class="line">             JMP Main               </div><div class="line">                </div><div class="line">DateSet:    CALL SetDate</div><div class="line">            ;JMP DateDisplay            ;设置完日期后，需要显示新的日期，跳转至DateDisplay</div><div class="line">DateDisplay:CALL Display_LED_Date</div><div class="line">            MOV dateNeedFlashDisp,0     </div><div class="line">            JMP Main                    ;显示完日期后，回到主程序Main   </div><div class="line"></div><div class="line">Key_Blow_E: CMP AL,0DH                  ;按键为D           </div><div class="line">            JNZ Key_Null                </div><div class="line">            NOT displayTimeFlag         ;将displayTimeFlag取反</div><div class="line">            </div><div class="line">Key_Null:   CMP displayTimeFlag,1</div><div class="line">            JNZ DateNeedDisp</div><div class="line">            CMP timeNeedFlashDisp,1</div><div class="line">            JNZ Main</div><div class="line">            JMP TimeDisplay</div><div class="line">;=================================================</div><div class="line"></div><div class="line"></div><div class="line">;================时间设定子程序==================</div><div class="line">SetTime     PROC    NEAR</div><div class="line">        LEA     SI,bufferTimeSetting    ;之前时间信息放到设置缓存里，以便显示</div><div class="line">        CALL    TimeToBuffer            </div><div class="line">        MOV     TimePos,0       ;将时间位标志置0，设置时间的第0位，时的十位数</div><div class="line">Key:    CMP timeSettingFlash,1      ;判断是否需要闪烁当前位  </div><div class="line">        JNZ GetKey                          ;扫描键盘</div><div class="line">        LEA SI,bufferTimeSetting    </div><div class="line">        LEA DI,bufferTime</div><div class="line">        MOV CX,8                    ;重复8次</div><div class="line">        REP MOVSB</div><div class="line">        CMP halfsec,0</div><div class="line">        JNZ Flash</div><div class="line">        MOV BL,TimePos</div><div class="line">        NOT BL</div><div class="line">        AND BX,07H</div><div class="line">        LEA SI,bufferTime</div><div class="line">        MOV BYTE PTR [SI+BX],10H    ;当前设置位置产生闪烁效果</div><div class="line">Flash:LEA   SI,bufferTime</div><div class="line">        CALL Display8</div><div class="line">        MOV timeSettingFlash,0</div><div class="line">GetKey:CALL GetKeyA</div><div class="line">        JNB Key</div><div class="line">        CMP AL,0EH          ;放弃设置</div><div class="line">        JNZ EarlyConfirm</div><div class="line">        JMP SetTimeExit</div><div class="line">EarlyConfirm:CMP AL,0FH     ;判断设置时间时是否按下F键，若按下F键，提前确认设置 </div><div class="line">        JZ  SettedTimeToVariable</div><div class="line">SetTime_hour_High:CMP AL,10         ;数值范围为0~9</div><div class="line">        JNB Key                 ;无效按键</div><div class="line">        CMP TimePos,0</div><div class="line">        JNZ SetTime_hour_Low</div><div class="line">        CMP AL,3                    ;调整时的十位数（范围为0~2）</div><div class="line">        JNB Key</div><div class="line">        MOV bufferTimeSetting + 7,AL</div><div class="line">        JMP SetTimeIsFinished</div><div class="line">SetTime_hour_Low:CMP TimePos,1      ;时的个位</div><div class="line">        JNZ SetTime_min_High</div><div class="line">        CMP bufferTimeSetting + 7,2     ;判断时的十位是否为2，然后，调整时的个位(当时的十位为0和1时,</div><div class="line">        JB  SetTime_hour_Low_1                                          ;其个位范围为0~9，当时为2时，个位范围为0~3)</div><div class="line">        CMP AL,4                                    ;当时的十位为2，判断个位是否小于4（0~3）</div><div class="line">        JNB Key                                 ;若大于3则跳至Key，无效按键</div><div class="line">SetTime_hour_Low_1:MOV bufferTimeSetting + 6,AL  ;时的个位数</div><div class="line">        INC TimePos                         ;TimePos=2，这是个横杠“-”，跳过不用设置这位</div><div class="line">        JMP SetTimeIsFinished</div><div class="line">SetTime_min_High:CMP TimePos,3  ;分的十位数</div><div class="line">        JNZ SetTime_min_Low</div><div class="line">        CMP AL,6                                    ;调整分的十位数（范围为0~5）</div><div class="line">        JNB Key                                 ;若大于5则跳至Key，无效按键</div><div class="line">        MOV bufferTimeSetting + 4,AL</div><div class="line">        JMP SetTimeIsFinished   </div><div class="line">SetTime_min_Low:CMP TimePos,4           ;分的个位数</div><div class="line">        JNZ SetTime_sec_High</div><div class="line">        MOV bufferTimeSetting + 3,AL        ;调整分的个位数（范围为0~9）</div><div class="line">        INC TimePos                             ;TimePos=5，这是个横杠“-”，跳过不用设置这位</div><div class="line">        JMP SetTimeIsFinished</div><div class="line">SetTime_sec_High:CMP    TimePos,6       ;秒的十位数</div><div class="line">        JNZ SetTime_sec_Low</div><div class="line">        CMP AL,6                                    ;调整秒的十位数（范围为0~5）</div><div class="line">        JB  SetTime4_sec_High_1</div><div class="line">        JMP Key                         ;若大于5则跳至Key，无效按键        </div><div class="line">SetTime4_sec_High_1:MOV bufferTimeSetting + 1,AL</div><div class="line">                    JMP SetTimeIsFinished</div><div class="line">SetTime_sec_Low:MOV bufferTimeSetting,AL        ;调整秒的个位数（范围为0~9）</div><div class="line">SetTimeIsFinished:INC   TimePos</div><div class="line">        CMP TimePos,8                   ;判断是否设置完(是否时间位标志=8)，设置完跳转SettedTimeToVariable同步信息</div><div class="line">        JNB SettedTimeToVariable</div><div class="line">        MOV timeSettingFlash,1      ;需要刷新</div><div class="line">        JMP Key     </div><div class="line">SettedTimeToVariable:MOV AL,bufferTimeSetting + 1       ;设置的时间转换到变量中；同步信息</div><div class="line">        MOV BL,10</div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferTimeSetting</div><div class="line">        MOV sec,AL          ;秒</div><div class="line">        MOV AL,bufferTimeSetting + 4</div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferTimeSetting + 3</div><div class="line">        MOV min,AL          ;分</div><div class="line">        MOV AL,bufferTimeSetting + 7</div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferTimeSetting + 6</div><div class="line">        MOV hour,AL         ;时</div><div class="line">        CMP hour,24         ;以下程序是实现避免非法显示功能的,将当前小时数和24比较，若hour&lt;24则跳至SetTimeExit,否则将hour-=24      </div><div class="line">        JB  SetTimeExit</div><div class="line">        SUB hour,24         ;当前小时数hour大于了24，将hour-=24</div><div class="line">SetTimeExit:    RET</div><div class="line">SetTime     ENDP</div><div class="line"></div><div class="line">;========================日期设定========================</div><div class="line">SetDate     PROC    NEAR</div><div class="line">        LEA     SI,bufferDateSetting</div><div class="line">        CALL    DateToBuffer</div><div class="line">        MOV     DatePos,0       </div><div class="line">Key_Date:CMP    dateSettingFlash,1              ;判断是否需要闪烁当前位</div><div class="line">        JNZ     Date_GetKey</div><div class="line">        LEA SI,bufferDateSetting            ;将bufferDateSetting中的数据存SI中</div><div class="line">        LEA DI,bufferDate</div><div class="line">        MOV CX,8</div><div class="line">        REP MOVSB                           ;将bufferDateSetting中的数据拷贝到bufferDate中</div><div class="line">        CMP halfsec,0</div><div class="line">        JNZ FLASH1</div><div class="line">        MOV BL,DatePos</div><div class="line">        NOT BL                      ;BL = 1111H</div><div class="line">        AND BX,07H              ;BX = 07H</div><div class="line">        LEA SI,bufferDate               ;将bufferDate的偏移地址存入SI中</div><div class="line">        MOV BYTE PTR [SI+BX],10H    ;当前设置位置产生闪烁效果</div><div class="line">FLASH1:LEA  SI,bufferDate       </div><div class="line">        CALL DisPlay8                       ;显示日期</div><div class="line">        MOV dateSettingFlash,0</div><div class="line">Date_GetKey:CALL GetKeyA        ;扫描键盘</div><div class="line">        JNB Key_Date                ;若无按键则跳转</div><div class="line">        CMP AL,0EH              ;放弃设置</div><div class="line">        JNZ KeyIsF              ;若按的不是E则跳至KeyIsF，判断是否按下F键            </div><div class="line">        JMP SetDateExit                 ;按E放弃设置，退出返回</div><div class="line">KeyIsF:CMP  AL,0FH          ;判断设置时间时是否按下F键，若按下F键，提前确认设置</div><div class="line">        JNZ DateKeyNotF         ;按键不为F则继续设定</div><div class="line">        JMP DateBufferToVariable        ;按键为F则确定</div><div class="line">DateKeyNotF:CMP AL,10           ;日期按键在10以内</div><div class="line">        JNB Key_Date                    ;大于等于10的按键则为无效按键</div><div class="line">        CMP DatePos,0           ;是否为第一位</div><div class="line">        JNZ SetDate_y_1</div><div class="line">        MOV bufferDateSetting + 7,AL        ;调整年的千位数</div><div class="line">        JMP SetDateIsFinished</div><div class="line">SetDate_y_1:    CMP DatePos,1                   ;是否为第二位</div><div class="line">        JNZ SetDate_y_2</div><div class="line">        MOV bufferDateSetting + 6,AL        ;调整年的百位数</div><div class="line">        JMP SetDateIsFinished</div><div class="line">SetDate_y_2:    CMP DatePos,2</div><div class="line">        JNZ SetDate_y_3</div><div class="line">        MOV bufferDateSetting + 5,AL        ;调整年的十位数</div><div class="line">        JMP SetDateIsFinished</div><div class="line">SetDate_y_3:    CMP DatePos,3</div><div class="line">        JNZ JudgeLeap</div><div class="line">        MOV bufferDateSetting + 4,AL        ;调整年的个位数</div><div class="line">        JMP SetDateIsFinished</div><div class="line">JudgeLeap:CALL JudgeLeapYear            ;判断是否为闰年        </div><div class="line">        CMP DatePos,4</div><div class="line">        JNZ SetDate4_1</div><div class="line">        CMP AL,2</div><div class="line">        JB  SetDate_m_0</div><div class="line">        JMP Key_Date            ;无效按键(月的十位大于了1)</div><div class="line">SetDate_m_0:MOV bufferDateSetting + 3,AL        ;调整月的十位数</div><div class="line">        JMP SetDateIsFinished</div><div class="line">SetDate4_1:CMP DatePos,5</div><div class="line">        JNZ SetDate5</div><div class="line">        CMP bufferDateSetting + 3,0     ;调整月的个位数</div><div class="line">        JZ  SetDate4_2                          ;月的十位是0则跳转</div><div class="line">        CMP AL,3</div><div class="line">        JB  SetDate_m_1</div><div class="line">        JMP Key_Date            ;无效按键</div><div class="line">SetDate4_2: CMP AL,0</div><div class="line">        JA  SetDate_m_1</div><div class="line">        JMP Key_Date</div><div class="line">SetDate_m_1:MOV bufferDateSetting + 2,AL        ;月的个位数</div><div class="line">        JMP SetDateIsFinished </div><div class="line">SetDate5:   CALL    JudgeMonthIs30day       ;判断是否为天数为30天的月份</div><div class="line">        PUSH    AX</div><div class="line">        MOV     AL,bufferDateSetting + 3</div><div class="line">        MOV     BL,10</div><div class="line">        MUL     BL</div><div class="line">        ADD     AL,bufferDateSetting + 2        ;将当前月份记入AL中</div><div class="line">        MOV     month,AL            ;将AL存入month中</div><div class="line">        POP AX</div><div class="line">        CMP DatePos,6</div><div class="line">        JNZ SetDate6</div><div class="line">        CMP     month,2             ;是否为2月</div><div class="line">        JNZ     SetDate5_0      ;不是2月则跳转</div><div class="line">        CMP     AL,3</div><div class="line">        JB  SetDate5_2</div><div class="line">        JMP     Key_Date</div><div class="line">SetDate5_2: JMP     SetDate_d_0</div><div class="line">SetDate5_0: CMP     AL,4            ;调整日的十位数 (判断日十位数是否&lt;=3)</div><div class="line">        JB  SetDate_d_0             </div><div class="line">        JMP Key_Date                    ;无效按键</div><div class="line">SetDate_d_0:MOV bufferDateSetting + 1,AL</div><div class="line">        JMP SetDateIsFinished</div><div class="line">SetDate6:   CMP DatePos,7</div><div class="line">        JNZ DateBufferToVariable</div><div class="line">        CMP month,2         ;判断是否为2月</div><div class="line">        JNZ SetDate6_0      ;不是2月则跳转</div><div class="line">        CMP LeapYear,0          ;是2月，判断是否为闰年</div><div class="line">        JZ  SetDate6_2              ;不是闰跳转</div><div class="line">        JMP SetDate_d_1         ;是闰年</div><div class="line">SetDate6_2: CMP AL,9            ;当前是2月份以及不是闰年的情况下，判断日的个位数是否小于9</div><div class="line">        JB  SetDate_d_1</div><div class="line">        JMP Key_Date</div><div class="line">SetDate6_0:     CMP     bufferDateSetting + 1 ,3        ;判断日的十位是否为3</div><div class="line">        JNZ SetDate_d_1     ;不是3跳转</div><div class="line">        CMP MonthHas30Day,0     ;是3，判断是否为小月</div><div class="line">        JZ  SetDate6_3      ;不是小月则跳转</div><div class="line">        CMP AL,1</div><div class="line">        JB  SetDate_d_1</div><div class="line">        JMP Key_Date</div><div class="line">SetDate6_3: CMP AL,2</div><div class="line">        JB  SetDate_d_1</div><div class="line">        JMP Key_Date            </div><div class="line">SetDate_d_1:    MOV bufferDateSetting,AL        ;调整日的个位数</div><div class="line">SetDateIsFinished:  INC DatePos</div><div class="line">        CMP DatePos,8</div><div class="line">        JNB DateBufferToVariable            ;大于等于第8位则确定</div><div class="line">        MOV dateSettingFlash,1      ;8位没设定完则继续，日期需要刷新</div><div class="line">        JMP Key_Date        </div><div class="line">DateBufferToVariable:MOV AL,bufferDateSetting + 1       ;确认</div><div class="line">        MOV BL,10</div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferDateSetting</div><div class="line">        MOV day,AL          ;日</div><div class="line">        MOV AL,bufferDateSetting + 3</div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferDateSetting + 2</div><div class="line">        MOV month,AL        ;月</div><div class="line">        MOV AL,bufferDateSetting + 5    </div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferDateSetting + 4    </div><div class="line">        MOV yearLowPos2,AL</div><div class="line">        MOV AL,bufferDateSetting + 7</div><div class="line">        MUL BL</div><div class="line">        ADD AL,bufferDateSetting + 6</div><div class="line">        MOV yearHighPos2,AL</div><div class="line">        CALL    JudgeLeapYear</div><div class="line">        CMP month,13</div><div class="line">        JB  SetDate8_0      ;以下程序是实现避免非法显示功能的</div><div class="line">        SUB month,12            ;月数大于12则month-=12</div><div class="line">SetDate8_0: CMP month,2</div><div class="line">        JNZ SetDate8_1</div><div class="line">        CMP LeapYear,1</div><div class="line">        JZ  SetDate8_3</div><div class="line">        CMP day,28</div><div class="line">        JNA SetDateExit</div><div class="line">        SUB day,28</div><div class="line">        JMP SetDateExit</div><div class="line">SetDate8_1: CALL JudgeMonthIs30day</div><div class="line">        CMP MonthHas30Day,1</div><div class="line">        JNZ SetDate8_2</div><div class="line">        CMP day,30</div><div class="line">        JNA SetDateExit</div><div class="line">        SUB day,30</div><div class="line">        JMP SetDateExit</div><div class="line">SetDate8_2: CMP day,31</div><div class="line">        JNA SetDateExit</div><div class="line">        SUB day,31</div><div class="line">        JMP SetDateExit</div><div class="line">SetDate8_3: CMP day,29</div><div class="line">        JNA SetDateExit</div><div class="line">        SUB day,29</div><div class="line">        JMP SetDateExit</div><div class="line">SetDateExit:        RET</div><div class="line">SetDate     ENDP</div><div class="line"></div><div class="line">;========================是否为闰年========================</div><div class="line">JudgeLeapYear   PROC    NEAR</div><div class="line">                PUSH    AX</div><div class="line">                PUSH    BX</div><div class="line">                PUSH    DX</div><div class="line">                LEA     SI,bufferDateSetting</div><div class="line">                MOV     AL,bufferDateSetting + 7        ;年的千位数</div><div class="line">                XOR     AH,AH</div><div class="line">                MOV     BL,10               </div><div class="line">                MUL     BL                      ;年的千位数*10</div><div class="line">                ADD     AL,bufferDateSetting + 6        ;年的千位数*10+年的百位数</div><div class="line">                MUL     BL                      ;(年的千位数*10+年的百位数)*10</div><div class="line">                ADD     AL,bufferDateSetting + 5        ;(年的千位数*10+年的百位数)*10+年的十位数</div><div class="line">                MUL     BL                      ;[(年的千位数*10+年的百位数)*10+年的十位数]*10</div><div class="line">                ADD     AL,bufferDateSetting + 4        ;[(年的千位数*10+年的百位数)*10+年的十位数]*10+年的各位位数</div><div class="line">                MOV     year,AX</div><div class="line">                XOR     DX,DX </div><div class="line">                MOV     BX,400</div><div class="line">                DIV     BX</div><div class="line">                CMP     DX,0                ;能整除DX＝0</div><div class="line">                JZ      JudgeLeapYear2          ;能被400整除为闰年</div><div class="line">                </div><div class="line">                MOV     AX,year </div><div class="line">                XOR     DX,DX</div><div class="line">                MOV     BX,4</div><div class="line">                DIV     BX</div><div class="line">                CMP     DX,0</div><div class="line">                JZ      JudgeLeapYear1          ;能被4整除则跳转</div><div class="line">                JMP     JudgeLeapYear3</div><div class="line">JudgeLeapYear1:  MOV     AX,year </div><div class="line">                XOR     DX,DX</div><div class="line">                MOV     BX,100</div><div class="line">                DIV     BX</div><div class="line">                CMP     DX,0</div><div class="line">                JZ      JudgeLeapYear3          ;能被100整除则跳转    </div><div class="line">JudgeLeapYear2:  MOV     LeapYear,1         ;能被4整除不能被100整除为闰年</div><div class="line">        JMP PopT</div><div class="line"></div><div class="line">JudgeLeapYear3:  MOV     LeapYear,0         ;不能被4整除不是闰年</div><div class="line">                                            ;能被4整除且能被100整除的不是闰年</div><div class="line">PopT:       POP DX</div><div class="line">        POP BX</div><div class="line">        POP AX</div><div class="line">        RET          </div><div class="line">JudgeLeapYear   ENDP</div><div class="line"></div><div class="line">;====================是否为天数为30天的月份====================</div><div class="line">;=======================4月6月9月11月=========================</div><div class="line">JudgeMonthIs30day   PROC    NEAR</div><div class="line">        PUSH    AX</div><div class="line">        PUSH    BX</div><div class="line">            MOV AL,bufferDateSetting + 3</div><div class="line">            MOV BL,10</div><div class="line">            MUL BL</div><div class="line">            ADD AL,bufferDateSetting + 2</div><div class="line">            CMP AX,4</div><div class="line">            JZ  Here</div><div class="line">            CMP AX,6</div><div class="line">            JZ  Here</div><div class="line">            CMP AX,9</div><div class="line">            JZ  Here</div><div class="line">            CMP AX,11</div><div class="line">            JZ  Here</div><div class="line">            MOV MonthHas30Day,0</div><div class="line">            JMP Pop1</div><div class="line">Here:       MOV MonthHas30Day,1</div><div class="line">Pop1:       POP BX</div><div class="line">        POP AX</div><div class="line">        RET </div><div class="line">JudgeMonthIs30day   ENDP</div><div class="line"></div><div class="line">;========================显示时分秒========================</div><div class="line">Display_LED_Time    PROC    NEAR</div><div class="line">        LEA SI,bufferTime</div><div class="line">        CALL    TimeToBuffer</div><div class="line">        LEA SI,bufferTime</div><div class="line">        CALL    Display8        ;显示</div><div class="line">        RET</div><div class="line">Display_LED_Time    ENDP</div><div class="line"></div><div class="line">;显示年月日</div><div class="line">Display_LED_Date    PROC    NEAR</div><div class="line">        LEA SI,bufferDate</div><div class="line">        CALL    DateToBuffer</div><div class="line">        LEA SI,bufferDate</div><div class="line">        ;CALL   Display8_1      ;显示</div><div class="line">        CALL DisPlay8</div><div class="line">        RET</div><div class="line">Display_LED_Date    ENDP        </div><div class="line"></div><div class="line">;==============hour min sec转化成可显示格式=================</div><div class="line">TimeToBuffer    PROC    NEAR</div><div class="line">        MOV AL,sec</div><div class="line">        XOR AH,AH</div><div class="line">        MOV BL,10</div><div class="line">        DIV BL</div><div class="line">        MOV [SI],AH</div><div class="line">        MOV [SI + 1],AL     ;秒</div><div class="line">        </div><div class="line">        MOV BYTE PTR [SI + 2],10H   ;不显示</div><div class="line"></div><div class="line">        MOV AL,min</div><div class="line">        XOR AH,AH</div><div class="line">        DIV BL</div><div class="line">        MOV [SI + 3],AH     </div><div class="line">        MOV [SI + 4],AL     ;分</div><div class="line">    </div><div class="line">        MOV BYTE PTR [SI + 5],10H   ;这位不显示</div><div class="line"></div><div class="line">        MOV AL,hour</div><div class="line">        XOR AH,AH</div><div class="line">        DIV BL</div><div class="line">        MOV [SI + 6],AH     </div><div class="line">        MOV [SI + 7],AL     ;时</div><div class="line">        RET</div><div class="line">TimeToBuffer    ENDP</div><div class="line"></div><div class="line">;==============day month year转换为可显示格式==============</div><div class="line">DateToBuffer    PROC    NEAR</div><div class="line">        MOV AL,day</div><div class="line">        XOR AH,AH</div><div class="line">        MOV BL,10</div><div class="line">        DIV BL</div><div class="line">        MOV [SI],AH         ;余数为日的个位</div><div class="line">        MOV [SI + 1],AL     ;商为日的十位</div><div class="line"></div><div class="line">        MOV AL,month</div><div class="line">        XOR AH,AH</div><div class="line">        DIV BL</div><div class="line">        MOV [SI + 2],AH     ;余数为月的个位</div><div class="line">        MOV [SI + 3],AL     ;商为月的十位</div><div class="line"></div><div class="line">        MOV AL,yearLowPos2</div><div class="line">        XOR AH,AH</div><div class="line">        DIV BL</div><div class="line">        MOV [SI + 4],AH     ;余数为年的个位</div><div class="line">        MOV [SI + 5],AL     ;商为年的十位</div><div class="line">        </div><div class="line">        MOV AL,yearHighPos2</div><div class="line">        XOR AH,AH</div><div class="line">        DIV BL</div><div class="line">        MOV [SI + 6],AH     ;余数为年的百位</div><div class="line">        MOV [SI + 7],AL     ;商为年的千位</div><div class="line">        RET</div><div class="line">DateToBuffer    ENDP</div><div class="line"></div><div class="line">;========================0.5s产生一次中断========================</div><div class="line">CalendarInt     PROC    NEAR</div><div class="line">        PUSH    AX</div><div class="line">        PUSH    DX</div><div class="line">        MOV timeSettingFlash,1      ;时间是否需要刷新</div><div class="line">        MOV dateSettingFlash,1      ;日期是否需要刷新</div><div class="line">        INC halfsec</div><div class="line">        CMP halfsec,2</div><div class="line">        JZ  CalendarInt7</div><div class="line">        JMP CalendarInt1</div><div class="line">CalendarInt7:   MOV timeNeedFlashDisp,1</div><div class="line">        MOV dateNeedFlashDisp,1</div><div class="line">        MOV halfsec,0</div><div class="line">        INC sec</div><div class="line">        CMP sec,60                 </div><div class="line">        JZ  CalendarInt8            ;秒满60则跳转</div><div class="line">        JMP CalendarInt1             </div><div class="line">CalendarInt8:   MOV sec,0           ;当秒为60时将秒置为0</div><div class="line">        INC min                     ;给分加1</div><div class="line">        CMP min,60</div><div class="line">        JZ  CalendarInt9            ;分满60则跳转</div><div class="line">        JMP CalendarInt1            </div><div class="line">CalendarInt9:   MOV min,0           ;当分为60时将分置为0</div><div class="line">        INC hour                    ;给时加1</div><div class="line">        CMP hour,24</div><div class="line">        JNZ CalendarInt1</div><div class="line">        MOV hour,0                  ;当时满24时将时置为0</div><div class="line">        INC day                     ;给天加1</div><div class="line"></div><div class="line">CalendarInt2:   CMP month,2         ;是否为2月</div><div class="line">        JNZ     CalendarInt3        ;不是2月则跳转</div><div class="line">        CMP LeapYear,1      ;是否为闰年（0为否，1为是）</div><div class="line">        JNZ CalendarInt5        ;不是闰年则跳转</div><div class="line">        CMP day,30          ;是闰年</div><div class="line">        JNZ CalendarInt1</div><div class="line">        JMP CalendarInt6 </div><div class="line">        </div><div class="line">CalendarInt5:   CMP day,29</div><div class="line">        JNZ CalendarInt1</div><div class="line">        JMP CalendarInt6</div><div class="line">      </div><div class="line">CalendarInt3:   CMP MonthHas30Day,0     ;是否为天数为30天的月份（0为否，1为是）</div><div class="line">        JNZ CalendarInt4        ;是小月则跳转</div><div class="line">        CMP day,32          ;不是小月</div><div class="line">        JNZ CalendarInt1</div><div class="line">        JMP CalendarInt6  </div><div class="line">        </div><div class="line">CalendarInt4:   CMP day,31</div><div class="line">        JNZ CalendarInt1  </div><div class="line">        </div><div class="line">CalendarInt6:   MOV day,1</div><div class="line">        INC month</div><div class="line">        CMP month,13</div><div class="line">        JNZ CalendarInt1</div><div class="line">        MOV month,1</div><div class="line">        INC yearLowPos2</div><div class="line">        CMP yearLowPos2,100</div><div class="line">        JNZ CalendarInt1</div><div class="line">        MOV yearLowPos2,0</div><div class="line">        INC yearHighPos2  </div><div class="line">        </div><div class="line">CalendarInt1:</div><div class="line">        </div><div class="line">        LEA     SI,bufferTime</div><div class="line">        CALL    DateToBuffer        </div><div class="line">        CALL    SHOWCALENDER        ;在液晶显示器上显示年月日</div><div class="line">        LEA     SI,bufferDate</div><div class="line">        CALL    TimeToBuffer</div><div class="line">        CALL    SHOWTIME            ;在液晶显示器上显示时分秒</div><div class="line">        </div><div class="line">        MOV DX,IO8259_0</div><div class="line">        MOV AL,20H</div><div class="line">        OUT DX,AL</div><div class="line">        POP DX</div><div class="line">        POP AX</div><div class="line">        IRET</div><div class="line">CalendarInt ENDP</div><div class="line">            </div><div class="line">;========================8253初始化========================</div><div class="line">Init8253    PROC    NEAR</div><div class="line">        MOV     DX,Con_8253     ;送控制寄存器端口地址给DX</div><div class="line">            MOV     AL,34H          ;00110100b 选择计数器0，先读写低字节，再读写高字节,方式2，二进制计数</div><div class="line">            OUT     DX,AL           ;计数器T0设置在模式2状态,HEX计数</div><div class="line">            MOV     DX,T0_8253</div><div class="line">            MOV     AL,12H          ;设置计数初值 </div><div class="line">            OUT     DX,AL           ;写计数值的低8位</div><div class="line">            MOV     AL,7AH          ;计数值的高8位</div><div class="line">            OUT     DX,AL           ;CLK0=62.5kHz,0.5s定时</div><div class="line">        RET</div><div class="line">Init8253    ENDP</div><div class="line"></div><div class="line">;========================8259初始化========================</div><div class="line">Init8259    PROC    NEAR</div><div class="line">        MOV DX,IO8259_0</div><div class="line">        MOV AL,13H          ;中断类型号，设定边沿触发，单片方式</div><div class="line">        OUT DX,AL</div><div class="line">        MOV DX,IO8259_1</div><div class="line">        MOV AL,08H          ;中断类型号，设定IRQ0的中断向量号位08H(中断源：电子钟时间基准)</div><div class="line">        OUT DX,AL</div><div class="line">        MOV AL,09H          ;中断类型号，中断源：键盘</div><div class="line">        OUT DX,AL</div><div class="line">        MOV AL,0FEH</div><div class="line">        OUT DX,AL</div><div class="line">        RET</div><div class="line">Init8259    ENDP</div><div class="line"></div><div class="line">;========================设置中断向量========================</div><div class="line">WriIntver   PROC    NEAR</div><div class="line">        PUSH    ES</div><div class="line">        MOV AX,0</div><div class="line">        MOV ES,AX</div><div class="line">        MOV DI,20H</div><div class="line">        LEA AX,CalendarInt</div><div class="line">        STOSW</div><div class="line">        MOV AX,CS</div><div class="line">        STOSW</div><div class="line">        POP ES</div><div class="line">        RET</div><div class="line">WriIntver   ENDP</div><div class="line">  </div><div class="line">;==============数据写入8279数据端口==============</div><div class="line">WRITE_DATA      PROC    NEAR</div><div class="line">            MOV     DX,DATA_8279</div><div class="line">            OUT     DX,AL</div><div class="line">            RET</div><div class="line">WRITE_DATA      ENDP</div><div class="line"></div><div class="line">;------------------------------------以下是液晶显示屏相关-----------------------------------------</div><div class="line"></div><div class="line">;液晶显示年月日的具体实现</div><div class="line">SHOWCALENDER PROC NEAR</div><div class="line"> R0:        LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,24</div><div class="line">                    call byteDISR</div><div class="line"></div><div class="line">R1:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+1</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,16</div><div class="line">                    call byteDISR</div><div class="line"></div><div class="line">R2:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+2</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line"></div><div class="line">        mov al,2</div><div class="line">                    mov ah,8</div><div class="line">                    call byteDISR</div><div class="line"></div><div class="line">R3:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+3</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,0</div><div class="line">                    call byteDISR</div><div class="line"></div><div class="line">R4:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+4</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,56</div><div class="line">                    call byteDISL</div><div class="line"></div><div class="line">R5:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+5</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,48</div><div class="line">                    call byteDISL</div><div class="line"></div><div class="line">R6:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+6</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,40</div><div class="line">                    call byteDISL</div><div class="line">R7:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferTime+7</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX</div><div class="line">           </div><div class="line">                    mov al,2</div><div class="line">                    mov ah,32</div><div class="line">                    call byteDISL</div><div class="line">        RET</div><div class="line">SHOWCALENDER ENDP</div><div class="line">;液晶显示时分秒的具体实现</div><div class="line">SHOWTIME     PROC NEAR</div><div class="line"> A0:        LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferDate</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX          </div><div class="line">                mov al,4</div><div class="line">                mov ah,24</div><div class="line">                call byteDISR</div><div class="line">A1:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferDate+1</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX          </div><div class="line">                mov al,4</div><div class="line">                mov ah,16</div><div class="line">                call byteDISR</div><div class="line">AP:     LEA SI,POINT</div><div class="line">        mov al,4</div><div class="line">        mov ah,8</div><div class="line">        call byteDISR   </div><div class="line">A2:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferDate+3</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX          </div><div class="line">                mov al,4</div><div class="line">                mov ah,0</div><div class="line">                call byteDISR</div><div class="line">A3:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferDate+4</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX          </div><div class="line">                mov al,4</div><div class="line">                mov ah,56</div><div class="line">                call byteDISL</div><div class="line">APOINT:     LEA SI,POINT</div><div class="line">        mov al,4</div><div class="line">        mov ah,48</div><div class="line">        call byteDISL</div><div class="line">A4:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferDate+6</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX          </div><div class="line">                mov al,4</div><div class="line">                mov ah,40</div><div class="line">                call byteDISL</div><div class="line">A5:     LEA SI,ZERO</div><div class="line">        MOV AH,00</div><div class="line">        MOV AL, bufferDate+7</div><div class="line">        MOV BL,16</div><div class="line">        MUL BL</div><div class="line">        ADD SI,AX          </div><div class="line">                mov al,4</div><div class="line">                mov ah,32</div><div class="line">                call byteDISL</div><div class="line">    RET</div><div class="line">SHOWTIME     ENDP</div><div class="line"></div><div class="line">;延时程序</div><div class="line">; DelayTime PROC    NEAR</div><div class="line">        ; MOV   CX,0</div><div class="line">        ; LOOP  $</div><div class="line">        ; LOOP  $</div><div class="line">        ; RET</div><div class="line">; DelayTime ENDP</div><div class="line">        </div><div class="line">;液晶初始化</div><div class="line">LCD_INIT    PROC    NEAR    </div><div class="line">    MOV AL,3EH  ;初始化左半屏，关显示</div><div class="line">    CALL        WRComL  ;写指令子程序</div><div class="line">    MOV AL,FirstLine    ;设置起始显示行，第0行</div><div class="line">    CALL    WRComL  </div><div class="line">    MOV AL,3EH  ;初始化右半屏，关显示</div><div class="line">    CALL    WRComR  ;写指令子程序</div><div class="line">    MOV     AL,FirstLine    ;设置起始显示行，第0行</div><div class="line">    CALL    WRComR  </div><div class="line">    ;CALL   LCDClear    ;清屏</div><div class="line">    MOV AL,3FH  ;开显示</div><div class="line">    CALL    WRComL  </div><div class="line">    MOV AL,3FH  ;开显示</div><div class="line">    CALL        WRComR  </div><div class="line">    RET     </div><div class="line">LCD_INIT        ENDP        </div><div class="line">;清屏</div><div class="line">LCDClear    PROC        NEAR    </div><div class="line">;清左半屏</div><div class="line">    MOV AL,0    ;起始行，第0行</div><div class="line">    MOV AH,0        ;起始列，第0列</div><div class="line">LCDClearL1: PUSH        AX  </div><div class="line">    MOV     CX,64   </div><div class="line">    CALL        SETXYL  ;设置起始显示行列地址</div><div class="line">LCDClearL2: MOV AL,0    </div><div class="line">    CALL    WRDATAL </div><div class="line">    LOOP    LCDClearL2  </div><div class="line">    POP AX  </div><div class="line">    INC AX  </div><div class="line">    CMP AL,8    ;共8行</div><div class="line">    JNZ LCDClearL1  </div><div class="line">;清右半屏</div><div class="line">    MOV     AL,0        ;起始行，第0行</div><div class="line">    MOV AH,0        ;起始列，第0列</div><div class="line">LCDClearR1: PUSH        AX  </div><div class="line">    MOV     CX,64   </div><div class="line">    CALL    SETXYR  ;设置起始显示行列地址</div><div class="line">LCDClearR2: XOR AL,AL   </div><div class="line">    CALL    WRDATAR </div><div class="line">    LOOP    LCDClearR2  </div><div class="line">    POP AX  </div><div class="line">    INC     AL  </div><div class="line">    CMP AL,8        ;共8行</div><div class="line">    JNZ LCDClearR1  </div><div class="line">    RET     </div><div class="line">LCDClear    ENDP        </div><div class="line">;显示字体，显示一个数据要占用X行两行位置</div><div class="line">;左半屏显示一个字节/字：AL-起始显示行序数X(0-7)；AH-起始显示列序数Y(0-63)；SI-显示字</div><div class="line">数据首地址</div><div class="line">ByteDisL        PROC    NEAR    </div><div class="line">    MOV     CX,8      ;显示8个字节数据，用于显示一个英文/符号</div><div class="line">    CALL        DispL   </div><div class="line">    RET     </div><div class="line">ByteDisL    ENDP        </div><div class="line">WordDisL    PROC    NEAR    </div><div class="line">    MOV CX,16   ;显示16字节数据，用于显示一个汉字</div><div class="line">    CALL    DispL   </div><div class="line">    RET     </div><div class="line">WordDisL    ENDP        </div><div class="line">DispL   PROC    NEAR    </div><div class="line">    PUSH    AX  </div><div class="line">    PUSH        CX  </div><div class="line">    CALL    SETXYL  ;设置起始显示行列地址</div><div class="line">    CALL    DisplayL    ;显示上半行数据</div><div class="line">    POP CX  </div><div class="line">    POP AX  </div><div class="line">    INC AL  </div><div class="line">    CALL    SETXYL  ;设置起始显示行列地址</div><div class="line">    CALL        DisplayL        ;显示下半行数据</div><div class="line">    RET         </div><div class="line">DispL   ENDP        </div><div class="line">;右半屏显示一个字节/字：AL-起始显示行序数X(0-7)；AH-起始显示列序数Y(0-63)；SI-显示字数据首地址</div><div class="line">ByteDisR        PROC    ENAR    </div><div class="line">    MOV CX,8       ;显示8个字节数据，用于显示一个英文/符号</div><div class="line">    CALL    DispR   </div><div class="line">    RET     </div><div class="line">ByteDisR    ENDP        </div><div class="line">WordDisR    PROC    NEAR    </div><div class="line">    MOV CX,16   ;显示16字节数据，用于显示一个汉字</div><div class="line">    CALL    DispR   </div><div class="line">    RET     </div><div class="line">WordDisR    ENDP        </div><div class="line">DispR   PROC        NEAR    </div><div class="line">    PUSH        AX  </div><div class="line">    PUSH        CX  </div><div class="line">    CALL        SETXYR  ;设置起始显示行列地址</div><div class="line">    CALL        DisplayR        ;显示上半行数据</div><div class="line">    POP CX  </div><div class="line">    POP AX  </div><div class="line">    INC AL  </div><div class="line">    CALL    SETXYR  ;设置起始显示行列地址</div><div class="line">    CALL    DisplayR    ;显示下半行数据</div><div class="line">    RET     </div><div class="line">DispR   ENDP        </div><div class="line">;显示图形   </div><div class="line">;显示左半屏一行图形,AL-X起始行序数(0-7)，AH-Y起始列地址序数(0-63)</div><div class="line">LineDisL    PROC    NEAR    </div><div class="line">    MOV     CX,64   </div><div class="line">    CALL    SETXYL  ;设置起始显示行列</div><div class="line">    CALL    DisplayL        ;显示数据</div><div class="line">    RET         </div><div class="line">LineDisL    ENDP        </div><div class="line">;显示右半屏一行图形,AL-X起始行地址序数(0-7)，AH-Y起始列地址序数(0-63)</div><div class="line">LineDisR    PROC    NEAR    </div><div class="line">    MOV CX,64   </div><div class="line">    CALL    SETXYR  ;设置起始显示行列</div><div class="line">    CALL    DisplayR    ;显示数据</div><div class="line">    RET         </div><div class="line">LineDisR    ENDP        </div><div class="line">;基本控制</div><div class="line">;显示左半屏数据，R7-显示数据个数</div><div class="line">DisplayL        PROC        NEAR    </div><div class="line">    LODSB       </div><div class="line">    CALL        WRDataL ;写左半屏数据</div><div class="line">    LOOP    DisplayL    </div><div class="line">    RET     </div><div class="line">DisplayL    ENDP        </div><div class="line">;显示右半屏数据，R7-显示数据个数</div><div class="line">DisplayR    PROC        NEAR    </div><div class="line">    LODSB       </div><div class="line">    CALL        WRDataR ;写左半屏数据</div><div class="line">    LOOP    DisplayR    </div><div class="line">    RET     </div><div class="line">DisplayR    ENDP        </div><div class="line">;设置左半屏起始显示行列地址,AL-X起始行序数(0-7)，AH-Y起始列序数(0-63)</div><div class="line">SETXYL  PROC    NEAR    </div><div class="line">    OR  AL,X        ;行地址=行序数+行基址</div><div class="line">    CALL    WRComL  </div><div class="line">    MOV AL,AH   </div><div class="line">    OR  AL,Y        ;列地址=列序数+列基址</div><div class="line">    CALL        WRComL  </div><div class="line">    RET     </div><div class="line">SETXYL  ENDP        </div><div class="line">;设置右半屏起始显示行列地址,AL-X起始行序数(0-7)，AH-Y起始列序数(0-63)</div><div class="line">SETXYR  PROC    NEAR    </div><div class="line">    OR  AL,X        ;行地址=行序数+行基址</div><div class="line">    CALL        WRComR  </div><div class="line">    MOV AL,AH   </div><div class="line">    OR  AL,Y        ;列地址=列序数+列基址</div><div class="line">    CALL    WRComR  </div><div class="line">    RET     </div><div class="line">SETXYR  ENDP        </div><div class="line">;写左半屏控制指令，A-写入指令</div><div class="line">WRComL  PROC        NEAR    </div><div class="line">    MOV DX,WR_COM_AD_L  </div><div class="line">    OUT     DX,AL   </div><div class="line">WRComL1:    MOV DX,RD_BUSY_AD   </div><div class="line">    IN  AL,DX   </div><div class="line">    TEST    AL,80H  ;检查液晶显示是否处于忙状态</div><div class="line">    JNZ WRComL1 </div><div class="line">    RET     </div><div class="line">WRComL  ENDP        </div><div class="line">;写右半屏控制指令，A-写入指令</div><div class="line">WRComR      PROC        NEAR    </div><div class="line">    MOV DX,WR_COM_AD_R  </div><div class="line">    OUT DX,AL   </div><div class="line">WRComR1:    MOV DX,RD_BUSY_AD   </div><div class="line">    IN  AL,DX   </div><div class="line">    TEST        AL,80H  ;检查液晶显示是否处于忙状态</div><div class="line">    JNZ WRComR1 </div><div class="line">    RET     </div><div class="line">WRComR  ENDP        </div><div class="line">;写左半屏数据，A-写入数据  </div><div class="line">WRDataL PROC        NEAR    </div><div class="line">    MOV DX,WR_DATA_AD_L </div><div class="line">    OUT     DX,AL   </div><div class="line">WRDataL1:   MOV DX,RD_BUSY_AD   </div><div class="line">    IN  AL,DX   </div><div class="line">    TEST        AL,80H  ;检查液晶显示是否处于忙状态</div><div class="line">    JNZ WRDataL1    </div><div class="line">    RET     </div><div class="line">WRDataL ENDP        </div><div class="line">;写右半屏数据，A-写入数据  </div><div class="line">WRDataR PROC        NEAR    </div><div class="line">    MOV     DX,WR_DATA_AD_R </div><div class="line">    OUT DX,AL   </div><div class="line">WRDataR1:   MOV DX,RD_BUSY_AD   </div><div class="line">    IN  AL,DX   </div><div class="line">    TEST        AL,80H      ;检查液晶显示是否处于忙状态</div><div class="line">    JNZ WRDataR1    </div><div class="line">    RET     </div><div class="line">WRDataR ENDP</div><div class="line"></div><div class="line">        END START</div></pre></td></tr></table></figure></p>

                
<p class="pink-link-context">
    <a href="/2017/01/31/爬取微博某用户的微博和图片等/" rel="next" title="python2 爬虫 爬取微博用户的原创微博，和图片以及图片的链接">
    上一篇：python2 爬虫 爬取微博用户的原创微博，和图片以及图片的链接
  </a>
</p>



<p class="pink-link-context">
    <a href="/2017/01/13/2017年1月13日python3爬虫 爬教务管理查成绩/" rel="next" title="python3爬虫 爬教务管理查成绩">
    下一篇：python3爬虫 爬教务管理查成绩
  </a>
</p>


            </div>
			
        </div>
    </div>
</article>




    <section id="comment">
        <div class="card">
            <div class="card-content">
                <!-- Duoshuo Comment BEGIN -->
                <div class="ds-thread" data-thread-key="2017/01/14/2017年1月14日 接口技术-数码管日历表/" data-title="数码管日历表" data-url="http://nwsuafzq.github.io/2017/01/14/2017年1月14日 接口技术-数码管日历表/"></div>

                <script type="text/javascript">
                    console.log(document.querySelector('.ds-thread'));
                    var duoshuoQuery = {
                        short_name: 'zhangqiong'
                    };
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';
                        ds.async = true;
                        ds.src = (document.location.protocol == 'https:'
                            ? 'https:'
                            : 'http:') + '//static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                </script>
                <!-- Duoshuo Comment END -->
            </div>
        </div>
    </section>



</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large pink">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect green" title="回到顶部"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse yellow darken-1"  data-activates="main-menu" title="menu"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer indigo darken-1">
    
    <div class="container">
        <div class="row">
            
            <div class="social-group col m4 s12">
                <h5 class="white-text">社交</h5>
                
                    <a class="social-link" href="http://weibo.com/zqzqzq233" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/nwsuafzq" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                    <a class="social-link" href="/atom.xml" target="_blank">
                        <i class="fa fa-2x fa-rss"></i>
                    </a>
                
                <div class="site-visitors-container white-text">
                    <span>
                        <i class="fa fa-user"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
                    </span>
                    <span>&nbsp;|&nbsp;</span>
                    <span>
                        <i class="fa fa-eye"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
                    </span>
                </div>
            </div>
            

            
            <div class="col m8 s12">
                <h5 class="white-text">友情链接</h5>
                
                    <a class="social-link" href="http://blog.csdn.net/qq_25560423" target="_blank">我的csdn技术博客</a>
                
                    <a class="social-link" href="https://github.com/nwsuafzq" target="_blank">Github地址</a>
                
                    <a class="social-link" href="http://www.nwafulive.cn" target="_blank">我的个人主页</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2016 nwafulive.com, All rights reserved.
            <p class="right" style="margin-top: 0;">本博客由 <a href="https://hexo.io">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();
            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            
            // 添加new标签
            $('.menu-reading, .menu-about').append('<span class="new badge pink"></span>');
            

            // 搜索功能
            $('.modal-trigger').leanModal({
                // 打开搜索框时自动聚焦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "search.xml";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>




<script type="text/javascript" src="http://tajs.qq.com/stats?sId=60086238" charset="UTF-8"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>



<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

</body>
</html>
